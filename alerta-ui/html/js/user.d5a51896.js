(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{1711:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-fab-transition",[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms",value:t.perms,expression:"perms"}],key:"add",attrs:{color:"accent",fab:"",fixed:"",bottom:"",right:""},on:{click:t.addToList}},[s("v-icon",{attrs:{color:"white"}},[t._v("\n      add\n    ")])],1)],1)},i=[],r={props:{perms:{type:String,required:!0}},methods:{addToList:function(){this.$emit("add-to-list")}}},n=r,o=s("2877"),l=s("6544"),c=s.n(l),d=s("8336"),u=s("0789"),m=s("132d"),v=Object(o["a"])(n,a,i,!1,null,null,null);e["a"]=v.exports;c()(v,{VBtn:d["a"],VFabTransition:u["b"],VIcon:m["a"]})},"17be":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"keys"},[s("api-key-list")],1)},i=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",{ref:"form"},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.formTitle)+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-tooltip",{key:t.copyIconText,attrs:{right:""}},[t.editedItem.key?s("v-text-field",{attrs:{slot:"activator",label:"API Key",readonly:"",monospace:"","append-icon":"content_copy"},on:{"click:append":function(e){return t.clipboardCopy(t.editedItem.key)}},slot:"activator",model:{value:t.editedItem.key,callback:function(e){t.$set(t.editedItem,"key",e)},expression:"editedItem.key"}}):t._e(),s("span",[t._v(t._s(t.copyIconText))])],1)],1),t.$config.customer_views?s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{items:t.allowedCustomers,label:"Customer"},model:{value:t.editedItem.customer,callback:function(e){t.$set(t.editedItem,"customer",e)},expression:"editedItem.customer"}})],1):t._e(),s("v-flex",{attrs:{xs12:""}},[s("v-combobox",{attrs:{items:t.allowedScopes,label:"Scopes",chips:"",clearable:"",solo:"",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{attrs:{selected:e.selected,close:""}},[s("strong",[t._v(t._s(e.item))]),t._v(" \n                      "),s("span",[t._v("(scope)")])])]}}]),model:{value:t.editedItem.scopes,callback:function(e){t.$set(t.editedItem,"scopes",e)},expression:"editedItem.scopes"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[s("v-text-field",{attrs:{slot:"activator",label:"Expires","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.pickerDate,callback:function(e){t.pickerDate=e},expression:"pickerDate"}}),s("v-date-picker",{attrs:{min:(new Date).toISOString().slice(0,10)},on:{input:function(e){t.menu=!1}},model:{value:t.pickerDate,callback:function(e){t.pickerDate=e},expression:"pickerDate"}})],1)],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Comment"},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text",e)},expression:"editedItem.text"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            Cancel\n          ")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.save}},[t._v("\n            Save\n          ")])],1)],1)],1)],1),s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n      API Keys\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.computedHeaders,items:t.keys,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,search:t.search,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",{staticClass:"text-no-wrap",attrs:{monospace:""}},[t._v("\n          "+t._s(e.item.key)+"\n          "),s("v-tooltip",{key:t.copyIconText,attrs:{top:""}},[s("v-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"activator",value:e.item.key},on:{click:function(s){return t.clipboardCopy(e.item.key)}},slot:"activator"},[t._v("\n              content_copy\n            ")]),s("span",[t._v(t._s(t.copyIconText))])],1)],1),s("td",[t.isExpired(e.item.expires)?t._e():s("v-tooltip",{attrs:{top:""}},[s("v-icon",{attrs:{slot:"activator",color:"primary",small:""},slot:"activator"},[t._v("\n              check_circle\n            ")]),s("span",[t._v("Active")])],1),t.isExpired(e.item.expires)?s("v-tooltip",{attrs:{top:""}},[s("v-icon",{attrs:{slot:"activator",small:""},slot:"activator"},[t._v("\n              error_outline\n            ")]),s("span",[t._v("Expired")])],1):t._e()],1),s("td",[t._v(t._s(e.item.user))]),s("td",t._l(e.item.scopes,function(e){return s("v-chip",{key:e,attrs:{small:""}},[s("strong",[t._v(t._s(e))]),t._v(" \n            "),s("span",[t._v("(scope)")])])}),1),s("td",[t._v(t._s(e.item.text))]),s("td",[s("date-time",{attrs:{value:e.item.expireTime,format:"mediumDate"}})],1),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.count)+"\n        ")]),s("td",[t._v(t._s(t._f("timeago")(e.item.lastUsedTime)))]),t.$config.customer_views?s("td",[t._v("\n          "+t._s(e.item.customer)+"\n        ")]):t._e(),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"write:keys",expression:"'write:keys'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.editItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              edit\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:keys",expression:"'admin:keys'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:""},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              delete\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"admin:keys",expression:"'admin:keys'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{href:"data:text/plain;base64,"+t.toData(e.item),download:"key_"+e.item.id+".json",icon:""}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              get_app\n            ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          Sorry, nothing to display here :(\n        ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n        Your search for "'+t._s(t.search)+'" found no results.\n      ')])],2)],1),s("list-button-add",{attrs:{perms:"write:keys"},on:{"add-to-list":function(e){t.dialog=!0}}})],1)},m=[],v=(s("ac6a"),s("6377")),p=s("1711"),f=s("b74e"),h=s("c1df"),b=s.n(h),g={components:{DateTime:v["a"],ListButtonAdd:p["a"]},data:function(t){return{descending:!0,page:1,rowsPerPageItems:[10,20,30,40,50],pagination:{sortBy:"lastUsedTime",rowsPerPage:20},search:"",dialog:!1,headers:[{text:"API Key",value:"key",sortable:!1},{text:"",value:"expireTime"},{text:"User",value:"user"},{text:"Scopes",value:"scopes"},{text:"Description",value:"text"},{text:"Expires",value:"expireTime"},{text:"Count",value:"count"},{text:"Last Used",value:"lastUsedTime"},{text:"Customer",value:"customer"},{text:"Actions",value:"name",sortable:!1}],editedId:null,editedItem:{key:"",user:"",text:"",customer:null,scopes:[],expireTime:null},menu:!1,pickerDate:t.defaultExpireTime(),defaultItem:{user:"",text:"",customer:null,scopes:[],expireTime:null},copyIconText:"Copy"}},computed:{keys:function(){return this.$store.state.keys.keys},computedHeaders:function(){var t=this;return this.headers.filter(function(e){return!!t.$config.customer_views||"customer"!=e.value})},allowedScopes:function(){return f["a"].getAllowedScopes(this.$store.getters["auth/scopes"],this.$store.state.perms.scopes)},allowedCustomers:function(){return this.$store.getters["customers/customers"]},isLoading:function(){return this.$store.state.keys.isLoading},formTitle:function(){return this.editedId?"Edit API Key":"New API Key"},refresh:function(){return this.$store.state.refresh}},watch:{dialog:function(t){t||this.close()},refresh:function(t){t||this.getApiKeys()}},created:function(){this.getApiKeys(),this.getScopes(),this.getCustomers()},methods:{getApiKeys:function(){this.$store.dispatch("keys/getKeys")},getScopes:function(){this.$store.dispatch("perms/getScopes")},getCustomers:function(){this.$store.dispatch("customers/getCustomers")},defaultExpireTime:function(){return b()().add(1,"Year").endOf("day").toISOString().slice(0,10)},endOfDay:function(t){var e=new Date(t);return e.setHours(23,59,59,999),e.toISOString()},editItem:function(t){this.editedId=t.id,this.editedItem=Object.assign({},t),this.pickerDate=t.expireTime.slice(0,10),this.dialog=!0},deleteItem:function(t){confirm("Are you sure you want to delete this item?")&&this.$store.dispatch("keys/deleteKey",t.id)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=Object.assign({},t.defaultItem),t.pickerDate=t.defaultExpireTime(),t.editedId=null},300)},save:function(){this.editedId?this.$store.dispatch("keys/updateKey",[this.editedId,{scopes:this.editedItem.scopes,text:this.editedItem.text,expireTime:this.endOfDay(this.pickerDate),customer:this.editedItem.customer}]):this.$store.dispatch("keys/createKey",Object.assign(this.editedItem,{expireTime:this.endOfDay(this.pickerDate)})),this.close()},isExpired:function(t){return(new Date).getTime()>new Date(t).getTime()},clipboardCopy:function(t){var e=this;this.copyIconText="Copied!";var s=document.createElement("textarea");s.textContent=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),setTimeout(function(){e.copyIconText="Copy"},2e3)},toData:function(t){return btoa(JSON.stringify(t))}}},x=g,_=(s("293a"),s("2877")),y=s("6544"),k=s.n(y),T=s("0798"),I=s("8336"),C=s("b0af"),w=s("99d9"),$=s("12b2"),D=s("cc20"),S=s("2b5d"),V=s("a523"),O=s("8fea"),P=s("2e4b"),j=s("169a"),E=s("0e8f"),L=s("4bd4"),H=s("132d"),A=s("a722"),M=s("e449"),Y=s("b56d"),B=s("9910"),F=s("2677"),R=s("3a2f"),U=Object(_["a"])(x,u,m,!1,null,null,null),N=U.exports;k()(U,{VAlert:T["a"],VBtn:I["a"],VCard:C["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:$["a"],VChip:D["a"],VCombobox:S["a"],VContainer:V["a"],VDataTable:O["a"],VDatePicker:P["a"],VDialog:j["a"],VFlex:E["a"],VForm:L["a"],VIcon:H["a"],VLayout:A["a"],VMenu:M["a"],VSelect:Y["a"],VSpacer:B["a"],VTextField:F["a"],VTooltip:R["a"]});var z=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);z=c["a"]([Object(d["a"])({components:{ApiKeyList:N}})],z);var K=z,q=K,Z=Object(_["a"])(q,a,i,!1,null,null,null);e["default"]=Z.exports},"26d3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("preferences")],1)},i=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"form"},[s("v-card",{staticClass:"pl-3",attrs:{flat:""}},[s("v-card-title",{staticClass:"pb-0"},[s("div",[s("div",{staticClass:"headline"},[t._v("\n          Application settings\n        ")])])]),s("v-card-actions",[s("v-radio-group",{staticClass:"mt-0"},[s("v-checkbox",{staticClass:"my-0",attrs:{label:"Dark theme","hide-details":""},model:{value:t.isDark,callback:function(e){t.isDark=e},expression:"isDark"}}),s("v-checkbox",{staticClass:"my-0",attrs:{label:"Play notification sounds","hide-details":""},model:{value:t.isPlaySounds,callback:function(e){t.isPlaySounds=e},expression:"isPlaySounds"}})],1)],1)],1),s("v-card",{staticClass:"pl-3",attrs:{flat:""}},[s("v-flex",{attrs:{sm6:"",md4:""}},[s("v-card-title",{staticClass:"pb-0"},[s("div",[s("div",{staticClass:"headline"},[t._v("\n            Date and time settings\n          ")])])]),s("v-card-actions",[s("v-layout",{attrs:{column:""}},[s("v-select",{attrs:{items:t.dateFormats,label:"Long date format"},model:{value:t.longDate,callback:function(e){t.longDate=e},expression:"longDate"}}),s("v-select",{attrs:{items:t.dateFormats,label:"Medium date format"},model:{value:t.mediumDate,callback:function(e){t.mediumDate=e},expression:"mediumDate"}}),s("v-select",{attrs:{items:t.timeFormats,label:"Short time format"},model:{value:t.shortTime,callback:function(e){t.shortTime=e},expression:"shortTime"}}),s("v-select",{attrs:{items:t.timezoneOptions,label:"Display mode"},model:{value:t.timezone,callback:function(e){t.timezone=e},expression:"timezone"}})],1)],1)],1)],1),s("v-card",{staticClass:"pl-3",attrs:{flat:""}},[s("v-flex",{attrs:{sm6:"",md4:""}},[s("v-card-title",{staticClass:"pb-0"},[s("div",[s("div",{staticClass:"headline"},[t._v("\n            Alert summary settings\n          ")])])]),s("v-card-actions",[s("v-layout",{attrs:{column:""}},[s("v-combobox",{attrs:{items:t.rowsPerPageItems,label:"Rows per page",type:"number",suffix:"rows"},model:{value:t.rowsPerPage,callback:function(e){t.rowsPerPage=t._n(e)},expression:"rowsPerPage"}}),s("v-combobox",{attrs:{items:t.refreshOptions,label:"Refresh interval",type:"number",suffix:"seconds"},model:{value:t.refreshInterval,callback:function(e){t.refreshInterval=t._n(e)},expression:"refreshInterval"}}),s("v-combobox",{attrs:{items:t.shelveTimeoutOptions,label:"Shelve timeout",type:"number",suffix:"hours"},model:{value:t.shelveTimeout,callback:function(e){t.shelveTimeout=t._n(e)},expression:"shelveTimeout"}})],1)],1)],1)],1),s("v-card",{attrs:{flat:""}},[s("v-flex",{attrs:{sm6:"",md4:""}},[s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.reset}},[t._v("\n          Reset\n        ")])],1)],1)],1)],1)},m=[],v=s("c1df"),p=s.n(v),f={data:function(){return{dateFormats:[{text:p()().format("L"),value:"L"},{text:p()().format("l"),value:"l"},{text:p()().format("LL"),value:"LL"},{text:p()().format("ll"),value:"ll"},{text:p()().format("ddd D MMM HH:mm"),value:"ddd D MMM HH:mm"},{text:p()().format("LLL"),value:"LLL"},{text:p()().format("lll"),value:"lll"},{text:p()().format("LLLL"),value:"LLLL"},{text:p()().format("llll"),value:"llll"},{text:p()().format("ddd D MMM, YYYY HH:mm:ss.SSS Z"),value:"ddd D MMM, YYYY HH:mm:ss.SSS Z"},{text:p()().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"),value:"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"}],timeFormats:[{text:p()().format("LT"),value:"LT"},{text:p()().format("LTS"),value:"LTS"},{text:p()().format("HH:mm:ss"),value:"HH:mm:ss"},{text:p()().format("HH:mm:ss.SSS Z"),value:"HH:mm:ss.SSS Z"}],timezoneOptions:[{text:"Use local date & time",value:"local"},{text:"Use Coordinated Universal Time (UTC)",value:"utc"}],refreshOptions:[2,5,10,30,60],shelveTimeoutOptions:[1,2,4,8,24]}},computed:{isDark:{get:function(){return this.$store.getters.getPreference("isDark")},set:function(t){this.$store.dispatch("toggle",["isDark",t])}},isPlaySounds:{get:function(){return!this.$store.getters.getPreference("isMute")},set:function(t){this.$store.dispatch("toggle",["isMute",!t])}},longDate:{get:function(){return this.$store.state.prefs.dates.longDate},set:function(t){this.$store.dispatch("setUserPrefs",{dates:{longDate:t}})}},mediumDate:{get:function(){return this.$store.state.prefs.dates.mediumDate},set:function(t){this.$store.dispatch("setUserPrefs",{dates:{mediumDate:t}})}},shortTime:{get:function(){return this.$store.state.prefs.dates.shortTime},set:function(t){this.$store.dispatch("setUserPrefs",{dates:{shortTime:t}})}},timezone:{get:function(){return this.$store.state.prefs.timezone},set:function(t){this.$store.dispatch("setUserPrefs",{timezone:t})}},rowsPerPageItems:function(){return this.$store.state.alerts.pagination.rowsPerPageItems},rowsPerPage:{get:function(){return this.$store.getters.getPreference("rowsPerPage")||this.$store.state.alerts.pagination.rowsPerPage},set:function(t){this.$store.dispatch("setUserPrefs",{rowsPerPage:t})}},refreshInterval:{get:function(){return(this.$store.getters.getPreference("refreshInterval")||this.$store.getters.getConfig("refresh_interval"))/1e3},set:function(t){this.$store.dispatch("setUserPrefs",{refreshInterval:1e3*t})}},shelveTimeout:{get:function(){return this.$store.getters.getPreference("shelveTimeout")/60/60},set:function(t){this.$store.dispatch("setUserPrefs",{shelveTimeout:60*t*60})}}},mounted:function(){this.$store.dispatch("getUserPrefs")},methods:{reset:function(){this.$store.dispatch("resetUserPrefs")}}},h=f,b=s("2877"),g=s("6544"),x=s.n(g),_=s("8336"),y=s("b0af"),k=s("99d9"),T=s("12b2"),I=s("ac7c"),C=s("2b5d"),w=s("0e8f"),$=s("4bd4"),D=s("a722"),S=(s("94a7"),s("60d0"),s("c37a")),V=s("5e28"),O=s("94ab"),P=S["a"].extend({name:"v-radio-group",mixins:[V["a"],Object(O["b"])("radio")],model:{prop:"value",event:"change"},provide:function(){return{radio:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},mandatory:{type:Boolean,default:!0},name:String,row:Boolean,value:{default:null}},data:function(){return{internalTabIndex:-1,radios:[]}},computed:{classes:function(){return{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},watch:{hasError:"setErrorState",internalValue:"setActiveRadio"},mounted:function(){this.setErrorState(this.hasError),this.setActiveRadio()},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{role:"radiogroup"}},S["a"].options.methods.genDefaultSlot.call(this))},onRadioChange:function(t){this.disabled||(this.hasInput=!0,this.internalValue=t,this.setActiveRadio(),this.$nextTick(this.validate))},onRadioBlur:function(t){t.relatedTarget&&t.relatedTarget.classList.contains("v-radio")||(this.hasInput=!0,this.$emit("blur",t))},register:function(t){t.isActive=this.valueComparator(this.internalValue,t.value),t.$on("change",this.onRadioChange),t.$on("blur",this.onRadioBlur),this.radios.push(t)},setErrorState:function(t){for(var e=this.radios.length;--e>=0;)this.radios[e].parentError=t},setActiveRadio:function(){for(var t=this.radios.length;--t>=0;){var e=this.radios[t];e.isActive=this.valueComparator(this.internalValue,e.value)}},unregister:function(t){t.$off("change",this.onRadioChange),t.$off("blur",this.onRadioBlur);var e=this.radios.findIndex(function(e){return e===t});e>-1&&this.radios.splice(e,1)}}}),j=s("b56d"),E=s("9910"),L=Object(b["a"])(h,u,m,!1,null,null,null),H=L.exports;x()(L,{VBtn:_["a"],VCard:y["a"],VCardActions:k["a"],VCardTitle:T["a"],VCheckbox:I["a"],VCombobox:C["a"],VFlex:w["a"],VForm:$["a"],VLayout:D["a"],VRadioGroup:P,VSelect:j["a"],VSpacer:E["a"]});var A=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);A=c["a"]([Object(d["a"])({components:{Preferences:H}})],A);var M=A,Y=M,B=Object(b["a"])(Y,a,i,!1,null,null,null);e["default"]=B.exports},"293a":function(t,e,s){"use strict";var a=s("cca4"),i=s.n(a);i.a},"60d0":function(t,e,s){},8462:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"blackouts"},[s("blackout-list")],1)},i=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-dialog",{attrs:{"max-width":"540px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-form",{ref:"form"},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v("\n            "+t._s(t.formTitle)+"\n          ")])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[t.$config.customer_views?s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{items:t.allowedCustomers,label:"Customer",clearable:""},model:{value:t.editedItem.customer,callback:function(e){t.$set(t.editedItem,"customer",e)},expression:"editedItem.customer"}})],1):t._e(),s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{items:t.allowedEnvironments,label:"Environment",rules:[t.rules.required],required:""},model:{value:t.editedItem.environment,callback:function(e){t.$set(t.editedItem,"environment",e)},expression:"editedItem.environment"}})],1),s("v-flex",{attrs:{xs4:""}},[s("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[s("v-text-field",{attrs:{slot:"activator",label:"Start Date","prepend-icon":"event"},slot:"activator",model:{value:t.editedItem.period.startDate,callback:function(e){t.$set(t.editedItem.period,"startDate",e)},expression:"editedItem.period.startDate"}}),s("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.editedItem.period.startDate,callback:function(e){t.$set(t.editedItem.period,"startDate",e)},expression:"editedItem.period.startDate"}})],1)],1),s("v-flex",{attrs:{xs2:""}},[s("v-combobox",{attrs:{items:t.times},model:{value:t.editedItem.period.startTime,callback:function(e){t.$set(t.editedItem.period,"startTime",e)},expression:"editedItem.period.startTime"}})],1),s("v-flex",{attrs:{xs2:""}},[s("v-combobox",{attrs:{items:t.times},model:{value:t.editedItem.period.endTime,callback:function(e){t.$set(t.editedItem.period,"endTime",e)},expression:"editedItem.period.endTime"}})],1),s("v-flex",{attrs:{xs4:""}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[s("v-text-field",{attrs:{slot:"activator",label:"End Date"},slot:"activator",model:{value:t.editedItem.period.endDate,callback:function(e){t.$set(t.editedItem.period,"endDate",e)},expression:"editedItem.period.endDate"}}),s("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu2=!1}},model:{value:t.editedItem.period.endDate,callback:function(e){t.$set(t.editedItem.period,"endDate",e)},expression:"editedItem.period.endDate"}})],1)],1),s("v-flex",{attrs:{xs12:""}},[s("v-select",{attrs:{items:t.currentServices,"menu-props":{maxHeight:"400"},label:"Service",multiple:"",hint:"Choose one or more service","persistent-hint":""},model:{value:t.editedItem.service,callback:function(e){t.$set(t.editedItem,"service",e)},expression:"editedItem.service"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Resource"},model:{value:t.editedItem.resource,callback:function(e){t.$set(t.editedItem,"resource",e)},expression:"editedItem.resource"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Event"},model:{value:t.editedItem.event,callback:function(e){t.$set(t.editedItem,"event",e)},expression:"editedItem.event"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Group"},model:{value:t.editedItem.group,callback:function(e){t.$set(t.editedItem,"group",e)},expression:"editedItem.group"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-combobox",{attrs:{items:t.currentTags,label:"Tags",multiple:"",chips:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[s("v-chip",{key:JSON.stringify(e.item),staticClass:"v-chip--select-multi",attrs:{selected:e.selected,disabled:e.disabled,label:"",small:""},on:{input:function(t){return e.parent.selectItem(e.item)}}},[s("v-icon",{attrs:{left:""}},[t._v("\n                        label\n                      ")]),t._v(t._s(e.item)+"\n                    ")],1)]}}]),model:{value:t.editedItem.tags,callback:function(e){t.$set(t.editedItem,"tags",e)},expression:"editedItem.tags"}})],1),s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{label:"Reason"},model:{value:t.editedItem.text,callback:function(e){t.$set(t.editedItem,"text",e)},expression:"editedItem.text"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.close}},[t._v("\n            Cancel\n          ")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.validate}},[t._v("\n            Save\n          ")])],1)],1)],1)],1),s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n      Blackouts\n      "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.computedHeaders,items:t.blackouts,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,search:t.search,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[t.$config.customer_views?s("td",[t._v("\n          "+t._s(e.item.customer)+"\n        ")]):t._e(),s("td",[t._v(t._s(e.item.environment))]),s("td",t._l(e.item.service,function(e){return s("v-chip",{key:e,attrs:{outline:"",small:""}},[t._v("\n            "+t._s(e)+"\n          ")])}),1),s("td",[t._v(t._s(e.item.resource))]),s("td",[t._v(t._s(e.item.event))]),s("td",[t._v(t._s(e.item.group))]),s("td",t._l(e.item.tags,function(e){return s("v-chip",{key:e,attrs:{label:"",small:""}},[s("v-icon",{attrs:{left:""}},[t._v("\n              label\n            ")]),t._v(t._s(e)+"\n          ")],1)}),1),s("td",{staticClass:"text-xs-right"},[s("v-tooltip",{attrs:{top:""}},[t._v("\n            "+t._s(t._f("capitalize")(e.item.status))+"\n            "),"pending"==e.item.status?s("v-icon",{attrs:{slot:"activator",light:"",small:""},slot:"activator"},[t._v("\n              schedule\n            ")]):t._e(),"active"==e.item.status?s("v-icon",{attrs:{slot:"activator",color:"primary",small:""},slot:"activator"},[t._v("\n              notifications_paused\n            ")]):t._e(),"expired"==e.item.status?s("v-icon",{attrs:{slot:"activator",small:""},slot:"activator"},[t._v("\n              block\n            ")]):t._e()],1)],1),s("td",{staticClass:"text-xs-left"},[s("date-time",{attrs:{value:e.item.startTime,format:"mediumDate"}})],1),s("td",{staticClass:"text-xs-left"},[s("date-time",{attrs:{value:e.item.endTime,format:"mediumDate"}})],1),s("td",{staticClass:"text-xs-left text-no-wrap"},[t._v("\n          "+t._s(t._f("until")(e.item.endTime))+"\n        ")]),s("td",{staticClass:"text-xs-left"},[t._v("\n          "+t._s(e.item.user)+"\n        ")]),s("td",{staticClass:"text-xs-left"},[t._v("\n          "+t._s(e.item.text)+"\n        ")]),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"write:blackouts",expression:"'write:blackouts'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.editItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              edit\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"write:blackouts",expression:"'write:blackouts'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:""},on:{click:function(s){return t.copyItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              content_copy\n            ")])],1),s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"write:blackouts",expression:"'write:blackouts'",modifiers:{disable:!0}}],staticClass:"btn--plain mx-0",attrs:{icon:""},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n              delete\n            ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n          Sorry, nothing to display here :(\n        ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n        Your search for "'+t._s(t.search)+'" found no results.\n      ')])],2)],1),s("list-button-add",{attrs:{perms:"write:blackouts"},on:{"add-to-list":function(e){t.dialog=!0}}})],1)},m=[],v=(s("5df3"),s("1c4c"),s("6377")),p=s("1711"),f=s("c1df"),h=s.n(f),b={components:{DateTime:v["a"],ListButtonAdd:p["a"]},data:function(t){return{descending:!0,page:1,rowsPerPageItems:[10,20,30,40,50],pagination:{sortBy:"startTime",rowsPerPage:20},search:"",dialog:!1,headers:[{text:"Customer",value:"customer"},{text:"Environment",value:"environment"},{text:"Service",value:"service"},{text:"Resource",value:"resource"},{text:"Event",value:"event"},{text:"Group",value:"group"},{text:"Tags",value:"tags"},{text:"",value:"status"},{text:"Start",value:"startTime"},{text:"End",value:"endTime"},{text:"Expires",value:"remaining"},{text:"User",value:"user"},{text:"Reason",value:"text"},{text:"Actions",value:"name",sortable:!1}],editedId:null,editedItem:{customer:null,environment:null,service:[],resource:null,event:null,group:null,tags:[],period:{startDate:null,startTime:null,endDate:null,endTime:null},text:""},menu1:!1,menu2:!1,defaultItem:{customer:null,environment:null,service:[],resource:null,event:null,group:null,tags:[],period:{startDate:null,startTime:null,endDate:null,endTime:null},text:""},rules:{required:function(t){return!!t||"Required."}}}},computed:{blackouts:function(){return this.$store.state.blackouts.blackouts.map(function(t){var e=h()(t.startTime),s=h()(t.endTime);return Object.assign(t,{period:{startDate:e.format("YYYY-MM-DD"),startTime:e.format("HH:mm"),endDate:s.format("YYYY-MM-DD"),endTime:s.format("HH:mm")}})})},computedHeaders:function(){var t=this;return this.headers.filter(function(e){return!!t.$config.customer_views||"customer"!=e.value})},allowedCustomers:function(){return this.$store.getters["customers/customers"]},allowedEnvironments:function(){return this.$store.getters["alerts/environments"]},currentServices:function(){return this.$store.getters["alerts/services"]},currentTags:function(){return this.$store.getters["alerts/tags"]},isLoading:function(){return this.$store.state.blackouts.isLoading},formTitle:function(){return this.editedId?"Edit Blackout":"New Blackout"},times:function(){return Array.from({length:96},function(t,e){var s=Math.floor(15*e/60),a=15*e-60*s;return("0"+s).slice(-2)+":"+("0"+a).slice(-2)})},refresh:function(){return this.$store.state.refresh}},watch:{dialog:function(t){t||this.close()},refresh:function(t){t&&(this.getBlackouts(),this.getCustomers(),this.getEnvironments(),this.getServices(),this.getTags())}},created:function(){this.getBlackouts(),this.getCustomers(),this.getEnvironments(),this.getServices(),this.getTags(),this.editedItem=Object.assign({},this.defaultItem),this.editedItem.period=this.defaultTimes()},methods:{getBlackouts:function(){this.$store.dispatch("blackouts/getBlackouts")},getCustomers:function(){this.$store.dispatch("customers/getCustomers")},getEnvironments:function(){this.$store.dispatch("alerts/getEnvironments")},getServices:function(){this.$store.dispatch("alerts/getServices")},getTags:function(){this.$store.dispatch("alerts/getTags")},getNext15mins:function(t){return h()(new Date(1e3*Math.ceil(t.getTime()/1e3/60/15)*60*15).toISOString())},defaultTimes:function(){var t=new Date,e=this.getNext15mins(t);t.setTime(t.getTime()+36e5);var s=this.getNext15mins(t);return{startDate:e.format("YYYY-MM-DD"),startTime:e.format("HH:mm"),endDate:s.format("YYYY-MM-DD"),endTime:s.format("HH:mm")}},toISODate:function(t,e){return new Date(t+" "+e).toISOString()},editItem:function(t){this.editedId=t.id,this.editedItem=Object.assign({},t),this.dialog=!0},copyItem:function(t){this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){confirm("Are you sure you want to delete this item?")&&this.$store.dispatch("blackouts/deleteBlackout",t.id)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.$refs.form.resetValidation(),t.editedItem=Object.assign({},t.defaultItem),t.editedItem.period=t.defaultTimes(),t.editedId=null},300)},validate:function(){this.$refs.form.validate()&&(this.$refs.form.resetValidation(),this.save())},save:function(){this.editedId?this.$store.dispatch("blackouts/updateBlackout",[this.editedId,{customer:this.editedItem.customer,environment:this.editedItem.environment,service:this.editedItem.service,resource:this.editedItem.resource,event:this.editedItem.event,group:this.editedItem.group,tags:this.editedItem.tags,startTime:this.toISODate(this.editedItem.period.startDate,this.editedItem.period.startTime),endTime:this.toISODate(this.editedItem.period.endDate,this.editedItem.period.endTime),text:this.editedItem.text}]):this.$store.dispatch("blackouts/createBlackout",Object.assign(this.editedItem,{startTime:this.toISODate(this.editedItem.period.startDate,this.editedItem.period.startTime),endTime:this.toISODate(this.editedItem.period.endDate,this.editedItem.period.endTime)})),this.close()}}},g=b,x=s("2877"),_=s("6544"),y=s.n(_),k=s("0798"),T=s("8336"),I=s("b0af"),C=s("99d9"),w=s("12b2"),$=s("cc20"),D=s("2b5d"),S=s("a523"),V=s("8fea"),O=s("2e4b"),P=s("169a"),j=s("0e8f"),E=s("4bd4"),L=s("132d"),H=s("a722"),A=s("e449"),M=s("b56d"),Y=s("9910"),B=s("2677"),F=s("3a2f"),R=Object(x["a"])(g,u,m,!1,null,null,null),U=R.exports;y()(R,{VAlert:k["a"],VBtn:T["a"],VCard:I["a"],VCardActions:C["a"],VCardText:C["b"],VCardTitle:w["a"],VChip:$["a"],VCombobox:D["a"],VContainer:S["a"],VDataTable:V["a"],VDatePicker:O["a"],VDialog:P["a"],VFlex:j["a"],VForm:E["a"],VIcon:L["a"],VLayout:H["a"],VMenu:A["a"],VSelect:M["a"],VSpacer:Y["a"],VTextField:B["a"],VTooltip:F["a"]});var N=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);N=c["a"]([Object(d["a"])({components:{BlackoutList:U}})],N);var z=N,K=z,q=Object(x["a"])(K,a,i,!1,null,null,null);e["default"]=q.exports},"91ab":function(t,e,s){},afb3:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"heartbeats"},[s("heartbeat-list")],1)},i=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-card",[s("v-card-title",{staticClass:"title"},[t._v("\n    Heartbeats\n    "),s("v-spacer"),s("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.computedHeaders,items:t.heartbeats,"rows-per-page-items":t.rowsPerPageItems,pagination:t.pagination,search:t.search,loading:t.isLoading,"must-sort":"","sort-icon":"arrow_drop_down"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.origin))]),t.$config.customer_views?s("td",[t._v("\n        "+t._s(e.item.customer)+"\n      ")]):t._e(),s("td",t._l(e.item.tags,function(e){return s("v-chip",{key:e,attrs:{label:"",small:""}},[s("v-icon",{attrs:{left:""}},[t._v("\n            label\n          ")]),t._v(t._s(e)+"\n        ")],1)}),1),s("td",[s("date-time",{attrs:{value:e.item.createTime,format:"mediumDate"}})],1),s("td",[s("date-time",{attrs:{value:e.item.receiveTime,format:"mediumDate"}})],1),s("td",[t._v("\n        "+t._s(t.diffTime(e.item.createTime,e.item.receiveTime))+" ms\n      ")]),s("td",{staticClass:"text-xs-center text-no-wrap"},[t._v("\n        "+t._s(t._f("hhmmss")(t.timeoutLeft(e.item)))+"\n      ")]),s("td",[t._v(t._s(t._f("timeago")(e.item.receiveTime)))]),s("td",{staticClass:"text-no-wrap"},[s("v-btn",{directives:[{name:"has-perms",rawName:"v-has-perms.disable",value:"write:heartbeats",expression:"'write:heartbeats'",modifiers:{disable:!0}}],staticClass:"btn--plain mr-0",attrs:{icon:""},on:{click:function(s){return t.deleteItem(e.item)}}},[s("v-icon",{attrs:{small:"",color:"grey darken-3"}},[t._v("\n            delete\n          ")])],1)],1)]}}])},[s("template",{slot:"no-data"},[s("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v("\n        Sorry, nothing to display here :(\n      ")])],1),s("v-alert",{attrs:{slot:"no-results",value:!0,color:"error",icon:"warning"},slot:"no-results"},[t._v('\n      Your search for "'+t._s(t.search)+'" found no results.\n    ')])],2)],1)},m=[],v=s("6377"),p=s("c1df"),f=s.n(p),h={components:{DateTime:v["a"]},data:function(){return{descending:!0,page:1,rowsPerPageItems:[10,20,30,40,50],pagination:{sortBy:"receiveTime",descending:!0,rowsPerPage:20},search:"",headers:[{text:"Origin",value:"origin"},{text:"Customer",value:"customer"},{text:"Tags",value:"tags"},{text:"Create Time",value:"createTime"},{text:"Receive Time",value:"receiveTime"},{text:"Latency",value:"latency"},{text:"Timeout",value:"timeout"},{text:"Since",value:"since"},{text:"Actions",value:"name",sortable:!1}]}},computed:{heartbeats:function(){return this.$store.state.heartbeats.heartbeats},computedHeaders:function(){var t=this;return this.headers.filter(function(e){return!!t.$config.customer_views||"customer"!=e.value})},isLoading:function(){return this.$store.state.heartbeats.isLoading},refresh:function(){return this.$store.state.refresh}},watch:{refresh:function(t){t||this.getHeartbeats()}},created:function(){this.getHeartbeats()},methods:{timeoutLeft:function(t){var e=f()(t.createTime).add(t.timeout,"seconds");return e.isAfter()?e.diff(f()(),"seconds"):f.a.duration()},getHeartbeats:function(){this.$store.dispatch("heartbeats/getHeartbeats")},deleteItem:function(t){confirm("Are you sure you want to delete this item?")&&this.$store.dispatch("heartbeats/deleteHeartbeat",t.id)},diffTime:function(t,e){return new Date(e).getTime()-new Date(t).getTime()}}},b=h,g=s("2877"),x=s("6544"),_=s.n(x),y=s("0798"),k=s("8336"),T=s("b0af"),I=s("12b2"),C=s("cc20"),w=s("8fea"),$=s("132d"),D=s("9910"),S=s("2677"),V=Object(g["a"])(b,u,m,!1,null,null,null),O=V.exports;_()(V,{VAlert:y["a"],VBtn:k["a"],VCard:T["a"],VCardTitle:I["a"],VChip:C["a"],VDataTable:w["a"],VIcon:$["a"],VSpacer:D["a"],VTextField:S["a"]});var P=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);P=c["a"]([Object(d["a"])({components:{HeartbeatList:O}})],P);var j=P,E=j,L=Object(g["a"])(E,a,i,!1,null,null,null);e["default"]=L.exports},c11b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reports"},[s("top-offenders"),s("top-flapping"),s("top-standing")],1)},i=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v("\n          Top 10 Offenders\n        ")]),s("br"),s("span",{staticClass:"grey--text"},[t._v("Frequently occurring alert sources that have generated the most number of alerts and alert duplicates.")])]),s("v-spacer")],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.top10,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.event))]),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.count)+"\n        ")]),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.duplicateCount)+"\n        ")]),s("td",[t._v(t._s(e.item.environments.join(", ")))]),s("td",[t._v(t._s(e.item.services.join(", ")))]),s("td",t._l(e.item.resources,function(e){return s("span",{key:e.id},[s("a",{attrs:{href:"alert/"+e.id}},[t._v(t._s(e.resource))])])}),0)]}}])})],1)],1)},m=[],v=(s("c1df"),{data:function(){return{headers:[{text:"Event",value:"event",sortable:!1},{text:"Count",value:"count",sortable:!1},{text:"Dupl. Count",value:"duplicateCount",sortable:!1},{text:"Environment",value:"environment",sortable:!1},{text:"Services",value:"services",sortable:!1},{text:"Resources",value:"resources",sortable:!1}]}},computed:{top10:function(){return this.$store.state.alerts.offenders},refresh:function(){return this.$store.state.refresh}},watch:{refresh:function(t){t||this.getTopOffenders()}},created:function(){this.getTopOffenders()},methods:{getTopOffenders:function(){return this.$store.dispatch("alerts/getTopOffenders")}}}),p=v,f=s("2877"),h=s("6544"),b=s.n(h),g=s("b0af"),x=s("12b2"),_=s("8fea"),y=s("9910"),k=Object(f["a"])(p,u,m,!1,null,null,null),T=k.exports;b()(k,{VCard:g["a"],VCardTitle:x["a"],VDataTable:_["a"],VSpacer:y["a"]});var I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v("\n          Top 10 Flapping\n        ")]),s("br"),s("span",{staticClass:"grey--text"},[t._v("Chattering and fleeting alert sources that have generated the most number of alert severity changes.")])]),s("v-spacer")],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.top10,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.event))]),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.count)+"\n        ")]),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.duplicateCount)+"\n        ")]),s("td",[t._v(t._s(e.item.environments.join(", ")))]),s("td",[t._v(t._s(e.item.services.join(", ")))]),s("td",t._l(e.item.resources,function(e){return s("span",{key:e.id},[s("a",{attrs:{href:"alert/"+e.id}},[t._v(t._s(e.resource))])])}),0)]}}])})],1)],1)},C=[],w={data:function(){return{headers:[{text:"Event",value:"event",sortable:!1},{text:"Count",value:"count",sortable:!1},{text:"Dupl. Count",value:"duplicateCount",sortable:!1},{text:"Environment",value:"environment",sortable:!1},{text:"Services",value:"services",sortable:!1},{text:"Resources",value:"resources",sortable:!1}]}},computed:{top10:function(){return this.$store.state.alerts.flapping},refresh:function(){return this.$store.state.refresh}},watch:{refresh:function(t){t||this.getTopFlapping()}},created:function(){this.getTopFlapping()},methods:{getTopFlapping:function(){return this.$store.dispatch("alerts/getTopFlapping")}}},$=w,D=Object(f["a"])($,I,C,!1,null,null,null),S=D.exports;b()(D,{VCard:g["a"],VCardTitle:x["a"],VDataTable:_["a"],VSpacer:y["a"]});var V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-card",[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("div",{staticClass:"headline"},[t._v("\n          Top 10 Standing\n        ")]),s("br"),s("span",{staticClass:"grey--text"},[t._v("Stale alert sources that have active alerts for a prolonged duration.")])]),s("v-spacer")],1),s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.top10,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.event))]),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.count)+"\n        ")]),s("td",{staticClass:"text-xs-center"},[t._v("\n          "+t._s(e.item.duplicateCount)+"\n        ")]),s("td",[t._v(t._s(e.item.environments.join(", ")))]),s("td",[t._v(t._s(e.item.services.join(", ")))]),s("td",t._l(e.item.resources,function(e){return s("span",{key:e.id},[s("a",{attrs:{href:"alert/"+e.id}},[t._v(t._s(e.resource))])])}),0)]}}])})],1)],1)},O=[],P={data:function(){return{headers:[{text:"Event",value:"event",sortable:!1},{text:"Count",value:"count",sortable:!1},{text:"Dupl. Count",value:"duplicateCount",sortable:!1},{text:"Environment",value:"environment",sortable:!1},{text:"Services",value:"services",sortable:!1},{text:"Resources",value:"resources",sortable:!1}]}},computed:{top10:function(){return this.$store.state.alerts.standing},refresh:function(){return this.$store.state.refresh}},watch:{refresh:function(t){t||this.getTopStanding()}},created:function(){this.getTopStanding()},methods:{getTopStanding:function(){return this.$store.dispatch("alerts/getTopStanding")}}},j=P,E=Object(f["a"])(j,V,O,!1,null,null,null),L=E.exports;b()(E,{VCard:g["a"],VCardTitle:x["a"],VDataTable:_["a"],VSpacer:y["a"]});var H=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);H=c["a"]([Object(d["a"])({components:{TopOffenders:T,TopFlapping:S,TopStanding:L}})],H);var A=H,M=A,Y=Object(f["a"])(M,a,i,!1,null,null,null);e["default"]=Y.exports},cca4:function(t,e,s){},e804:function(t,e,s){"use strict";var a=s("5ca1"),i=s("f1ae");a(a.S+a.F*s("79e5")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){var t=0,e=arguments.length,s=new("function"==typeof this?this:Array)(e);while(e>t)i(s,t,arguments[t++]);return s.length=e,s}})},f820:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("manifest"),s("status")],1)},i=[],r=s("d225"),n=s("308d"),o=s("6bb5"),l=s("4e2b"),c=s("9ab4"),d=s("60a3"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.manifest,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[s("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(t._f("capitalize")(t.application))+" API ")]),t._v(t._s(e.item.release)+"\n    ")]),s("td",[t._v(t._s(e.item.build))]),s("td",[e.item.date?s("date-time",{attrs:{value:e.item.date,format:"mediumDate"}}):t._e()],1),s("td",[s("span",{staticClass:"hidden-sm-and-down"},[t._v(t._s(e.item.revision))]),s("span",{staticClass:"show-md-and-up"},[t._v(t._s(e.item.revision.substring(0,7)))]),s("a",{attrs:{href:"https://github.com/alerta/alerta/commit/"+e.item.revision,target:"_blank"}},[s("v-tooltip",{attrs:{right:""}},[t._v("\n          Open in GitHub\n          "),s("v-icon",{attrs:{slot:"activator",small:""},slot:"activator"},[t._v("launch")])],1)],1)]),s("td",[s("a",{attrs:{href:t.$config.endpoint,target:"_blank"}},[s("span",{staticClass:"monospace"},[t._v(t._s(t.$config.endpoint))])]),s("v-tooltip",{key:t.copyIconText,attrs:{top:""}},[s("v-icon",{staticClass:"px-1",attrs:{slot:"activator",small:""},on:{click:function(e){return t.clipboardCopy(t.$config.endpoint)}},slot:"activator"},[t._v("\n          content_copy\n        ")]),s("span",[t._v(t._s(t.copyIconText))])],1)],1)]}}])})},m=[],v=(s("e804"),s("6377")),p={components:{DateTime:v["a"]},data:function(){return{headers:[{text:"API",value:"release",sortable:!1},{text:"Build",value:"build",sortable:!1},{text:"Date",value:"date",sortable:!1},{text:"Git Revision",value:"revision",sortable:!1},{text:"API Endpoint",value:"endpoint",sortable:!1}],manifest:[],copyIconText:"Copy"}},computed:{application:function(){return this.$store.state.management.application},refresh:function(){return this.$store.state.refresh}},watch:{refresh:function(t){t||this.getManifest()}},created:function(){var t=this;this.getManifest().then(function(){return t.manifest=Array.of(t.$store.state.management.manifest)})},methods:{getManifest:function(){return this.$store.dispatch("management/getManifest")},clipboardCopy:function(t){var e=this;this.copyIconText="Copied!";var s=document.createElement("textarea");s.textContent=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),setTimeout(function(){e.copyIconText="Copy"},2e3)}}},f=p,h=(s("facf"),s("2877")),b=s("6544"),g=s.n(b),x=s("8fea"),_=s("132d"),y=s("3a2f"),k=Object(h["a"])(f,u,m,!1,null,"8c572350",null),T=k.exports;g()(k,{VDataTable:x["a"],VIcon:_["a"],VTooltip:y["a"]});var I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("v-data-table",{staticClass:"px-2",attrs:{headers:t.headers,items:t.metrics,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v(t._s(e.item.title))]),s("td",[t._v(t._s(t._f("capitalize")(e.item.type)))]),s("td",[t._v(t._s(e.item.group)+"."+t._s(e.item.name))]),s("td",[t._v(t._s(e.item.value||e.item.count))]),s("td",[t._v(t._s(t.avgTime(e.item)))])]}}])}),s("v-data-table",{staticClass:"px-2",attrs:{headers:[{sortable:!1},{sortable:!1},{sortable:!1},{sortable:!1}],items:t.uptime,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[t._v("Last Update")]),s("td",[e.item.lastTime?s("date-time",{attrs:{value:e.item.lastTime,format:"longDate"}}):t._e()],1),s("td",[t._v("Uptime")]),s("td",[t._v(t._s(t._f("days")(e.item.uptime/1e3)))])]}}])})],1)},C=[],w=s("c1df"),$=s.n(w),D={components:{DateTime:v["a"]},data:function(){return{headers:[{text:"Metric",value:"title",sortable:!1},{text:"Type",value:"type",sortable:!1},{text:"Name",value:"name",sortable:!1},{text:"Value",value:"value",sortable:!1},{text:"Avg. Time",value:"time",sortable:!1}]}},computed:{metrics:function(){return this.$store.state.management.metrics},uptime:function(){return[{lastTime:$()(this.$store.state.management.time).utc().toISOString(),uptime:this.$store.state.management.uptime}]},refresh:function(){return this.$store.state.refresh}},watch:{refresh:function(t){t||this.getStatus()}},created:function(){this.getStatus()},methods:{getStatus:function(){return this.$store.dispatch("management/getStatus")},avgTime:function(t){return"timer"==t.type?(t.totalTime/t.count).toFixed(2)+" ms":"n/a"}}},S=D,V=Object(h["a"])(S,I,C,!1,null,null,null),O=V.exports;g()(V,{VDataTable:x["a"]});var P=function(t){function e(){return Object(r["a"])(this,e),Object(n["a"])(this,Object(o["a"])(e).apply(this,arguments))}return Object(l["a"])(e,t),e}(d["c"]);P=c["a"]([Object(d["a"])({components:{Manifest:T,Status:O}})],P);var j=P,E=j,L=Object(h["a"])(E,a,i,!1,null,null,null);e["default"]=L.exports},facf:function(t,e,s){"use strict";var a=s("91ab"),i=s.n(a);i.a}}]);
//# sourceMappingURL=user.d5a51896.js.map