(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["auth"],{"0fdf":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("user-forgot")},a=[],r=s("d225"),i=s("308d"),o=s("6bb5"),l=s("4e2b"),u=s("9ab4"),c=s("60a3"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"grid-list-sm":"","fill-height":""}},[s("v-layout",{directives:[{name:"show",rawName:"v-show",value:!e.sent,expression:"!sent"}],attrs:{"align-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[s("span",[e._v("Enter your email and we'll send you a reset link")])]),s("v-form",{on:{submit:function(t){return t.preventDefault(),e.forgot()}}},[s("v-text-field",{attrs:{name:"login",type:"text",label:"Username","prepend-inner-icon":"alternate_email",outline:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-btn",{attrs:{loading:e.isSending,disabled:e.isSending,block:"",color:"primary",type:"submit"}},[e._v("\n          Send\n        ")])],1),s("div",{staticClass:"text-xs-center"},[s("span",{staticClass:"body-2"},[e._v("\n          Already have an account?\n        ")]),s("v-btn",{attrs:{flat:"",color:"primary",to:"/login"}},[e._v("\n          Sign In\n        ")])],1)],1),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1),s("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.sent,expression:"sent"}],attrs:{"align-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[s("span",[e._v("Check your email for a reset link...")])]),s("v-form",[s("v-text-field",{attrs:{name:"login",type:"text",label:"Username","prepend-inner-icon":"alternate_email",outline:"",readonly:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-btn",{attrs:{block:"",color:"primary",to:"/login"}},[e._v("\n          Return to Sign In\n        ")])],1),s("div",{staticClass:"text-xs-center"},[s("span",{staticClass:"body-2"},[e._v("\n          Already have an account?\n        ")]),s("v-btn",{attrs:{flat:"",color:"primary",to:"/login"}},[e._v("\n          Sign In\n        ")])],1)],1),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1)],1)},f=[],m={props:[],data:function(){return{email:null,message:null,sent:!1}},computed:{isSending:function(){return this.$store.state.auth.isSending}},methods:{forgot:function(){var e=this;this.$store.dispatch("auth/forgot",this.email).then(function(){e.$store.dispatch("notifications/success","Reset email sent successfully!",{root:!0}),e.sent=!0})}}},p=m,h=s("2877"),v=s("6544"),w=s.n(v),b=s("8336"),g=s("a523"),x=s("0e8f"),y=s("4bd4"),_=s("a722"),$=s("2677"),P=Object(h["a"])(p,d,f,!1,null,null,null),O=P.exports;w()(P,{VBtn:b["a"],VContainer:g["a"],VFlex:x["a"],VForm:y["a"],VLayout:_["a"],VTextField:$["a"]});var j=function(e){function t(){return Object(r["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(c["c"]);j=u["a"]([Object(c["a"])({components:{UserForgot:O}})],j);var C=j,k=C,V=Object(h["a"])(k,n,a,!1,null,null,null);t["default"]=V.exports},"34c3":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("user-signup")},a=[],r=s("d225"),i=s("308d"),o=s("6bb5"),l=s("4e2b"),u=s("9ab4"),c=s("60a3"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"grid-list-sm":"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.signupEnabled,expression:"signupEnabled"}]},[e._v("\n          Create your Alerta account\n        ")]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.signupEnabled,expression:"!signupEnabled"}]},[e._v("\n          Sorry, sign up is not currently available\n        ")])]),s("v-form",{ref:"form"},[s("v-text-field",{attrs:{name:"name",type:"text",label:"Full Name",disabled:!e.signupEnabled,outline:"",rules:[e.rules.required],required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),s("v-text-field",{attrs:{name:"login",type:"text",label:"Username","prepend-inner-icon":"alternate_email",disabled:!e.signupEnabled,outline:"",rules:[e.rules.required],required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),s("v-text-field",{attrs:{name:"password",type:e.showPassword?"text":"password",label:"Password","append-icon":e.showPassword?"visibility_off":"visibility",disabled:!e.signupEnabled,outline:"",rules:[e.rules.min],required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-text-field",{attrs:{name:"confirm-password","append-icon":e.showPassword?"visibility_off":"visibility",type:e.showPassword?"text":"password",label:"Confirm Password",disabled:!e.signupEnabled,outline:"",rules:[e.rules.passwordMatch],required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),s("v-text-field",{attrs:{name:"text",type:"text",label:"Description",disabled:!e.signupEnabled,outline:""},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}}),s("v-btn",{attrs:{loading:e.isSending,disabled:!e.signupEnabled||e.isSending,block:"",color:"primary"},on:{click:e.validate}},[e._v("\n          Sign Up\n        ")])],1),s("div",{staticClass:"text-xs-center"},[s("span",{staticClass:"body-2"},[e._v("\n          Already have an account?\n        ")]),s("v-btn",{attrs:{flat:"",color:"primary",to:"/login"}},[e._v("\n          Sign In\n        ")])],1)],1),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1)],1)},f=[],m=(s("7f7f"),{props:[],data:function(e){return{name:null,email:null,password:"",confirmPassword:"",showPassword:!1,text:null,rules:{required:function(e){return!!e||"Required."},min:function(e){return e&&e.length>=6||"Min 6 characters"},passwordMatch:function(t){return t&&t==e.password||"Passwords entered don't match"}}}},computed:{isSending:function(){return this.$store.state.auth.isSending},signupEnabled:function(){return this.$store.getters.getConfig("signup_enabled")},emailVerification:function(){return this.$store.getters.getConfig("email_verification")}},methods:{validate:function(){this.$refs.form.validate()&&(this.$refs.form.resetValidation(),this.signup())},signup:function(){var e=this,t={name:this.name,email:this.email,password:this.password,text:this.text};this.$store.dispatch("auth/signup",t).then(function(){return e.$router.push({path:e.$route.query.redirect||"/"})}).catch(function(t){403===t.response.status&&e.emailVerification&&e.$router.push({name:"login"})})}}}),p=m,h=s("2877"),v=s("6544"),w=s.n(v),b=s("8336"),g=s("a523"),x=s("0e8f"),y=s("4bd4"),_=s("a722"),$=s("2677"),P=Object(h["a"])(p,d,f,!1,null,null,null),O=P.exports;w()(P,{VBtn:b["a"],VContainer:g["a"],VFlex:x["a"],VForm:y["a"],VLayout:_["a"],VTextField:$["a"]});var j=function(e){function t(){return Object(r["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(c["c"]);j=u["a"]([Object(c["a"])({components:{UserSignup:O}})],j);var C=j,k=C,V=Object(h["a"])(k,n,a,!1,null,null,null);t["default"]=V.exports},"3fef":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("user-reset")},a=[],r=s("d225"),i=s("308d"),o=s("6bb5"),l=s("4e2b"),u=s("9ab4"),c=s("60a3"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"grid-list-sm":"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[s("span",[e._v("Choose a new password")])]),s("v-form",{on:{submit:function(t){return t.preventDefault(),e.reset()}}},[s("v-text-field",{attrs:{name:"password",type:e.showPassword?"text":"password",label:"Password","append-icon":e.showPassword?"visibility_off":"visibility",outline:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-text-field",{attrs:{name:"confirm-password",type:e.showPassword?"text":"password",label:"Confirm Password","append-icon":e.showPassword?"visibility_off":"visibility",outline:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),s("v-btn",{attrs:{block:"",color:"primary",type:"submit"}},[e._v("\n          Reset Password\n        ")])],1),s("div",{staticClass:"text-xs-center"},[s("span",{staticClass:"body-2"},[e._v("\n          Already have an account?\n        ")]),s("v-btn",{attrs:{flat:"",color:"primary",to:"/login"}},[e._v("\n          Sign In\n        ")])],1)],1),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1)],1)},f=[],m={props:[],data:function(){return{password:null,confirmPassword:null,showPassword:!1}},methods:{reset:function(){this.$store.dispatch("auth/reset",[this.$route.params.token,this.password]).then(function(){})}}},p=m,h=s("2877"),v=s("6544"),w=s.n(v),b=s("8336"),g=s("a523"),x=s("0e8f"),y=s("4bd4"),_=s("a722"),$=s("2677"),P=Object(h["a"])(p,d,f,!1,null,null,null),O=P.exports;w()(P,{VBtn:b["a"],VContainer:g["a"],VFlex:x["a"],VForm:y["a"],VLayout:_["a"],VTextField:$["a"]});var j=function(e){function t(){return Object(r["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(c["c"]);j=u["a"]([Object(c["a"])({components:{UserReset:O}})],j);var C=j,k=C,V=Object(h["a"])(k,n,a,!1,null,null,null);t["default"]=V.exports},a55b:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("user-login")},a=[],r=s("d225"),i=s("308d"),o=s("6bb5"),l=s("4e2b"),u=s("9ab4"),c=s("60a3"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"grid-list-sm":"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[e.isBasicAuth?s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n        Log in to Alerta to continue\n      ")]),s("v-form",{on:{submit:function(t){return t.preventDefault(),e.login()}}},[s("v-text-field",{attrs:{name:"login",type:"text",label:"Username","prepend-inner-icon":"alternate_email",outline:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{name:"password",type:e.showPassword?"text":"password",label:"Password","append-icon":e.showPassword?"visibility_off":"visibility",outline:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),s("v-btn",{attrs:{block:"",color:"primary",type:"submit"}},[e._v("\n          Log In\n        ")])],1),s("div",{staticClass:"text-xs-center"},[s("v-btn",{attrs:{flat:"",color:"primary",to:"/signup",disabled:!e.signupEnabled}},[e._v("\n          Create Account\n        ")]),s("v-btn",{attrs:{flat:"",color:"primary",to:"/forgot"}},[e._v("\n          Forgot Password?\n        ")])],1)],1):"saml2"==e.$config.provider?s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.message&&!e.error,expression:"message && !error"}]},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n          "+e._s(e.message)+"\n        ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}]},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n          Sorry, there was a problem\n          "),s("a",{attrs:{href:"#"},on:{click:e.authenticateUsingSAML}},[e._v("\n            Please try again\n          ")])]),s("p",{staticClass:"text-xs-center subheading font-weight-medium"},[e._v("\n          Error: "+e._s(e.error)+"\n        ")])])]):s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.message&&!e.error,expression:"message && !error"}]},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n          "+e._s(e.message)+"\n        ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}]},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n          Sorry, there was a problem\n          "),s("a",{attrs:{href:"#"},on:{click:e.authenticate}},[e._v("\n            Please try again\n          ")])]),s("p",{staticClass:"text-xs-center subheading font-weight-medium"},[e._v("\n          Error: "+e._s(e.error)+"\n        ")])])]),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1)],1)},f=[],m=(s("7f7f"),{props:[],data:function(){return{username:null,password:null,showPassword:!1,message:null,error:null}},computed:{isBasicAuth:function(){return"basic"==this.$config.provider||"ldap"==this.$config.provider},authProvider:function(){var e=this.$store.getters["auth/getOptions"]["providers"];return e[this.$config.provider]?e[this.$config.provider].name:null},signupEnabled:function(){return this.$store.getters.getConfig("signup_enabled")}},created:function(){"saml2"==this.$config.provider?this.authenticateUsingSAML():this.authProvider&&this.authenticate()},methods:{login:function(){var e=this,t={username:this.username,password:this.password};this.$store.dispatch("auth/login",t).then(function(){return e.$router.push({path:e.$route.query.redirect||"/"})}).catch(function(t){return e.error=t.response.data.message})},authenticate:function(){var e=this;this.authProvider?(this.message="Authenticating with ".concat(this.authProvider," ..."),this.$store.dispatch("auth/authenticate",this.$config.provider).then(function(){return e.$router.push({path:e.$route.query.redirect||"/"})}).catch(function(t){return e.error=t.response.data.message})):(this.message="Sorry, it is not possile to authenticate",this.error="Unknown authentication provider (".concat(this.$config.provider,")"))},authenticateUsingSAML:function(){var e,t=this;window.addEventListener("message",function(s){s.source===e&&(s.data&&s.data.status&&"ok"===s.data.status&&s.data.token?t.$store.dispatch("auth/setToken",s.data).then(function(){return t.$router.push({path:t.$route.query.redirect||"/"})}).catch(function(e){return t.error=e.response.data.message}):(t.message="Sorry, it is not possile to authenticate",t.error=s.data.message?s.data.message:JSON.stringify(s)))}),e=window.open(this.$config.endpoint+"/auth/saml","Authenticating...")}}}),p=m,h=s("2877"),v=s("6544"),w=s.n(v),b=s("8336"),g=s("a523"),x=s("0e8f"),y=s("4bd4"),_=s("a722"),$=s("2677"),P=Object(h["a"])(p,d,f,!1,null,null,null),O=P.exports;w()(P,{VBtn:b["a"],VContainer:g["a"],VFlex:x["a"],VForm:y["a"],VLayout:_["a"],VTextField:$["a"]});var j=function(e){function t(){return Object(r["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(c["c"]);j=u["a"]([Object(c["a"])({components:{UserLogin:O}})],j);var C=j,k=C,V=Object(h["a"])(k,n,a,!1,null,null,null);t["default"]=V.exports},c100:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("user-logout")},a=[],r=s("d225"),i=s("308d"),o=s("6bb5"),l=s("4e2b"),u=s("9ab4"),c=s("60a3"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"grid-list-sm":"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n        You have been logged out.\n      ")])]),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1)],1)},f=[],m={},p=m,h=s("2877"),v=s("6544"),w=s.n(v),b=s("a523"),g=s("0e8f"),x=s("a722"),y=Object(h["a"])(p,d,f,!1,null,null,null),_=y.exports;w()(y,{VContainer:b["a"],VFlex:g["a"],VLayout:x["a"]});var $=function(e){function t(){return Object(r["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(c["c"]);$=u["a"]([Object(c["a"])({components:{UserLogout:_}})],$);var P=$,O=P,j=Object(h["a"])(O,n,a,!1,null,null,null);t["default"]=j.exports},e116:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("user-confirm")},a=[],r=s("d225"),i=s("308d"),o=s("6bb5"),l=s("4e2b"),u=s("9ab4"),c=s("60a3"),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{"grid-list-sm":"","fill-height":""}},[s("v-layout",{attrs:{"align-center":"",row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.message,expression:"message"}]},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n          Thanks! "+e._s(e.message)+". You can now "),s("a",{attrs:{href:"/login"}},[e._v("\n            log in\n          ")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}]},[s("p",{staticClass:"text-xs-center headline font-weight-medium"},[e._v("\n          Sorry, there was a problem confirming your email address\n          "),s("a",{attrs:{href:"/"}},[e._v("\n            Please try again\n          ")])]),s("p",{staticClass:"text-xs-center subheading font-weight-medium"},[e._v("\n          Error: "+e._s(e.error)+"\n        ")])])]),s("v-flex",{attrs:{xs12:"",sm8:"","offset-xs0":"","offset-sm2":""}})],1)],1)},f=[],m={data:function(){return{message:null,error:null}},mounted:function(){var e=this;this.$store.dispatch("auth/confirm",this.$route.params.token).then(function(t){return e.message=t.message}).catch(function(t){return e.error=t.response.data.message})}},p=m,h=s("2877"),v=s("6544"),w=s.n(v),b=s("a523"),g=s("0e8f"),x=s("a722"),y=Object(h["a"])(p,d,f,!1,null,null,null),_=y.exports;w()(y,{VContainer:b["a"],VFlex:g["a"],VLayout:x["a"]});var $=function(e){function t(){return Object(r["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),t}(c["c"]);$=u["a"]([Object(c["a"])({components:{UserConfirm:_}})],$);var P=$,O=P,j=Object(h["a"])(O,n,a,!1,null,null,null);t["default"]=j.exports}}]);
//# sourceMappingURL=auth.58856b4a.js.map